<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="User Information PunchPredictor" />
        <meta name="author" content="Bob" />
        <title>USER STATS</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/boxing_gloves-removebg-preview.png" />

        <!-- Google Analytics Tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4F873DFQPQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4F873DFQPQ');
</script>
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <!--GOOGLE SEARCH VERIFICATION-->
        <meta name="google-site-verification" content="kGhZUcmdYMqwcuJCFVWz7yGrAx_cN5hWqydgcTeqz0M" />

    </head>
    <body>
		<body>
			<!-- Navigation-->
			<nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
				<div class="container">
					<a class="navbar-brand" href="#page-top">ACCOUNT INFORMATION PunchPredictor</a>
					<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
						Menu
						                    <!-- Bars Icon Embed with .bars class -->
<div class="bars">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/>
    </svg>
</div>
					</button>
					<div class="collapse navbar-collapse" id="navbarResponsive">
						<ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="http://punchpredictor.com/upcomingEvents">Upcoming Events</a></li>
                            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="http://punchpredictor.com/leaderBoard.html">LeaderBoard</a></li>
							<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" id="navRegister" href="http://punchpredictor.com/register.html">Register</a></li>
							<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" id="navSignIn" href="http://punchpredictor.com/login.html">Sign in</a></li>
                            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" id="navSignIn" href="http://punchpredictor.com/">Website Info</a></li>
                            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" id="navSignIn" href="http://punchpredictor.com/previousEvents.html">Previous Events</a></li>
                            <li class="nav-item mx-0 mx-lg-1">
                                <a class="nav-link py-3 px-0 px-lg-3 rounded" id="navSignOut" href="javascript:void(0);">Sign Out</a>
                            </li>
							<!-- <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#resume">Experience</a></li> -->
						</ul>
					</div>
				</div>
			</nav>

<!-- Sidebar and Tab Content with 'User Picks' as the Default Active Tab -->
<div class="container" style="margin-top: 50px;">
    <div class="row">
        <div class="col-md-3" style="padding-top: 100px;"> <!-- Adjust padding to align -->
            <!-- Tab Navigation -->
            <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                <a class="nav-link active" id="v-pills-user-picks-tab" data-bs-toggle="pill" href="#v-pills-user-picks" role="tab" aria-controls="v-pills-user-picks" aria-selected="true">User Stats</a>
            </div>
        </div>
        <div class="col-md-9">
            <!-- Tab Panes -->
                <div class="tab-pane fade show active" id="v-pills-user-picks" role="tabpanel" aria-labelledby="v-pills-user-picks-tab">
                    <h2 class="padding-top-extra3">USER INFORMATION</h2>
                    <div id="userInfo" class="p-3 border rounded">
                        Loading user information...
                    </div>
                    <h2 class="padding-top-extra3">USER PICKS</h2>
                    <div id="userPicks" class="p-3 border rounded">
                        Loading user information...
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>





    <script type="module">
        var score_fetch;
        var misfits15_fetch;
        var paultyson_fetch;
        var ufc302_fetch;
        var davismartin_fetch;
        var pfc37_fetch;
        var cannonierimavov_fetch;
        var lfa186_fetch;
        var pereztaira_fetch;

        // Function to retrieve data
        function get1() {
    const username = localStorage.getItem('username');

    if (!username) {
        document.getElementById('userInfo').innerHTML = '<p class="text-danger">No user is currently logged in.</p>';
        return;
    }
    var apiUrl = `https://g8mjh5drkf.execute-api.us-east-1.amazonaws.com/dev?page=user&username=${username}`;
    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            var userInfo = JSON.parse(data.body);
            // Extract user information from the fetched data
            var score_fetch = userInfo[1];
            var misfits15_fetch = userInfo[2];
            var paultyson_fetch = userInfo[3];
            var ufc302_fetch = userInfo[4];
            var davismartin_fetch = userInfo[5];
            var pfc37_fetch = userInfo[6];
            var cannonierimavov_fetch = userInfo[7];
            var lfa186_fetch = userInfo[8];
            var pereztaira_fetch = userInfo[9];
            let formattedScore = score_fetch ? `${parseFloat(score_fetch).toFixed(2)}` : 'No score yet';

            let userInfoHtml = `
                <p><strong>Username:</strong> ${username}</p>
                <p><strong>Score:</strong> $${formattedScore || 'No score yet'} - This is how much money you would have made if you bet $100 on each fight.</p>

            `;
            let userPicksHtml = `

            `;
                        // Handle perez vs taira picks
                        if (pereztaira_fetch !== "pereztaira not found") {
                const davismartinpicks = [];
                const davismartin = pereztaira_fetch;

                // Define a function to determine which fighter to push based on the index
                function pickFighter(index, left, right) {
                    if (davismartin[index] === 'L') {
                        davismartinpicks.push(left);
                    } else if (davismartin[index] === 'R') {
                        davismartinpicks.push(right);
                    }
                    // If 'D', do nothing
                }

                // Apply the function for each fighter pick
                pickFighter(0, 'Perez', 'Taira');
                pickFighter(1, 'Cuamba', 'Almeida');
                pickFighter(2, 'Andrade', 'Johns');
                pickFighter(3, 'Almabayev', 'Johnson');
                pickFighter(4, 'Hiestand', 'Armfield');
                pickFighter(5, 'Calderon', 'Ellis');
                pickFighter(6, 'Ulanbekov', 'Van');
                pickFighter(7, 'Flick', 'Maness');
                pickFighter(8, 'Quinlan', 'Fugitt');
                pickFighter(9, 'Judice', 'Fernandes');
                pickFighter(10, 'Saragih', 'Wilson');
                pickFighter(11, 'Knutsson', 'Polastri');
                pickFighter(12, 'Costa', 'Nuerdanbieke');

                // Add additional picks similarly if needed

                // Append the resulting picks to the HTML content
                if (davismartinpicks.length > 0) {
                    userPicksHtml += `<p><strong>Perez vs Taira Picks:</strong> ${davismartinpicks.join(', ')}</p>`;
                }
            }
            // Handle LFA 186 picks
            if (lfa186_fetch !== "lfa186 not found") {
                const davismartinpicks = [];
                const davismartin = lfa186_fetch;

                // Define a function to determine which fighter to push based on the index
                function pickFighter(index, left, right) {
                    if (davismartin[index] === 'L') {
                        davismartinpicks.push(left);
                    } else if (davismartin[index] === 'R') {
                        davismartinpicks.push(right);
                    }
                    // If 'D', do nothing
                }

                // Apply the function for each fighter pick
                pickFighter(0, 'Bekoev', 'Foxworth');
                pickFighter(1, 'Repp', 'Borisova');
                pickFighter(2, 'Freeman', 'Asplund');
                pickFighter(3, 'Mgoyan', 'Robb');
                pickFighter(4, 'Charlebois', 'Miller');
                pickFighter(5, 'Bennett', 'Loi-Fonda');
                pickFighter(6, 'Calderon', 'Ellis');
                pickFighter(7, 'Schiro', 'Jones');
                pickFighter(8, 'Beltran', 'Renfrow');
                pickFighter(9, 'Montez', 'St. Charles');
                pickFighter(10, 'Camozzi', 'Trillo');
                pickFighter(11, 'Rodriguez', 'Rivera');
                pickFighter(12, 'Polson', 'Romero');
                pickFighter(13, 'Wise', 'Peltier');

                // Add additional picks similarly if needed

                // Append the resulting picks to the HTML content
                if (davismartinpicks.length > 0) {
                    userPicksHtml += `<p><strong>LFA 186: Bekoev vs Foxworth Picks:</strong> ${davismartinpicks.join(', ')}</p>`;
                }
            }

            // Handle cannonier vs imavov picks
            if (cannonierimavov_fetch !== "cannonierimavov not found") {
                const davismartinpicks = [];
                const davismartin = cannonierimavov_fetch;

                // Define a function to determine which fighter to push based on the index
                function pickFighter(index, left, right) {
                    if (davismartin[index] === 'L') {
                        davismartinpicks.push(left);
                    } else if (davismartin[index] === 'R') {
                        davismartinpicks.push(right);
                    }
                    // If 'D', do nothing
                }

                // Apply the function for each fighter pick
                pickFighter(0, 'Cannonier', 'Imavov');
                pickFighter(1, 'Reyes', 'Jacoby');
                pickFighter(2, 'Rosas', 'Turcios');
                pickFighter(3, 'Ferreira', 'Stoltzfus');
                pickFighter(4, 'Marquez', 'Reese');
                pickFighter(5, 'Baeza', 'Forest');
                pickFighter(6, 'Moises', 'Klein');
                pickFighter(7, 'Radtke', 'Prates');
                pickFighter(8, 'Lee', 'De La Rosa');
                pickFighter(9, 'Katona', 'Butler');
                pickFighter(10, 'Castaneda', 'Marcos');
                pickFighter(11, 'Moura', 'Gomez');
                pickFighter(12, 'Stamann', 'Lapilus');
                pickFighter(13, 'Santos', 'Tomar');

                // Add additional picks similarly if needed

                // Append the resulting picks to the HTML content
                if (davismartinpicks.length > 0) {
                    userPicksHtml += `<p><strong>Cannonier vs Imavov Picks:</strong> ${davismartinpicks.join(', ')}</p>`;
                }
            }
                                    // Handle pfc37 picks
                                    if (pfc37_fetch !== "pfc37 not found") {
                const davismartinpicks = [];
                const davismartin = pfc37_fetch;

                // Define a function to determine which fighter to push based on the index
                function pickFighter(index, left, right) {
                    if (davismartin[index] === 'L') {
                        davismartinpicks.push(left);
                    } else if (davismartin[index] === 'R') {
                        davismartinpicks.push(right);
                    }
                    // If 'D', do nothing
                }

                // Apply the function for each fighter pick
                pickFighter(0, 'Beck', 'Luna');
                pickFighter(1, 'Tafoya', 'Nkuta');
                pickFighter(2, 'Lewis', 'Campos');
                pickFighter(3, 'Cesar', 'Simmons');
                pickFighter(4, 'Cruz', 'Penning');
                pickFighter(5, 'Jackson', 'Russel');
                pickFighter(6, 'Moore', 'Gomez');

                // Add additional picks similarly if needed

                // Append the resulting picks to the HTML content
                if (davismartinpicks.length > 0) {
                    userPicksHtml += `<p><strong>Peak FC 37 Picks:</strong> ${davismartinpicks.join(', ')}</p>`;
                }
            }
                        // Handle davis vs martin picks
                        if (davismartin_fetch !== "davismartin not found") {
                const davismartinpicks = [];
                const davismartin = davismartin_fetch;

                // Define a function to determine which fighter to push based on the index
                function pickFighter(index, left, right) {
                    if (davismartin[index] === 'L') {
                        davismartinpicks.push(left);
                    } else if (davismartin[index] === 'R') {
                        davismartinpicks.push(right);
                    }
                    // If 'D', do nothing
                }

                // Apply the function for each fighter pick
                pickFighter(0, 'Davis', 'Martin');
                pickFighter(1, 'Benavidez', 'Gvozdyk');
                pickFighter(2, 'Adames', 'Gausha');
                pickFighter(3, 'Puello', 'Russel');
                pickFighter(4, 'Magsayo', 'Ramirez');
                pickFighter(5, 'Garcia', 'Davis');
                pickFighter(6, 'Villa', 'Salas');

                // Add additional picks similarly if needed

                // Append the resulting picks to the HTML content
                if (davismartinpicks.length > 0) {
                    userPicksHtml += `<p><strong>Davis vs Martin Picks:</strong> ${davismartinpicks.join(', ')}</p>`;
                }
            }

                        // Handle UFC 302 picks
                        if (ufc302_fetch !== "ufc302 not found") {
                const ufc302picks = [];
                const ufc302 = ufc302_fetch;

                // Define a function to determine which fighter to push based on the index
                function pickFighter(index, left, right) {
                    if (ufc302[index] === 'L') {
                        ufc302picks.push(left);
                    } else if (ufc302[index] === 'R') {
                        ufc302picks.push(right);
                    }
                    // If 'D', do nothing
                }

                // Apply the function for each fighter pick
                pickFighter(0, 'Makhachev', 'Porier');
                pickFighter(1, 'Strickland', 'Costa');
                pickFighter(2, 'Holland', 'Oleksiejczuk');
                pickFighter(3, 'Almeida', 'Romanov');
                pickFighter(4, 'Brown', 'Dos Santos');
                pickFighter(5, 'Almeida', 'Kopylov');
                pickFighter(6, 'Dawson', 'Solecki');
                pickFighter(7, 'Rowe', 'Matthews');
                pickFighter(8, 'Price', 'Morono');
                pickFighter(9, 'Gall', 'Hafez');
                pickFighter(10, 'Perez', 'Edwards');
                pickFighter(11, 'Raposo', 'Lima');
                // Add additional picks similarly if needed

                // Append the resulting picks to the HTML content
                if (ufc302picks.length > 0) {
                    userPicksHtml += `<p><strong>UFC 302 Picks:</strong> ${ufc302picks.join(', ')}</p>`;
                }
            }

                        // Handle Paul vs Tyson picks
                        if (paultyson_fetch !== "paultyson not found") {
                const PaulTysonPicks = [];
                const PaulTyson = paultyson_fetch;

                // Handling the first character
                if (PaulTyson[0] === 'L') {
                    PaulTysonPicks.push('Paul');
                } else if (PaulTyson[0] === 'R') {
                    PaulTysonPicks.push('Tyson');
                }

                // Handling the second character
                if (PaulTyson[1] === 'L') {
                    PaulTysonPicks.push('Taylor');
                } else if (PaulTyson[1] === 'R') {
                    PaulTysonPicks.push('Serrano');
                }

                // Handling the third character
                if (PaulTyson[2] === 'L') {
                    PaulTysonPicks.push('Till');
                } else if (PaulTyson[2] === 'R') {
                    PaulTysonPicks.push('Chavez Jr');
                }

                // Handling the fourth character
                if (PaulTyson[3] === 'L') {
                    PaulTysonPicks.push('Sylve');
                } else if (PaulTyson[3] === 'R') {
                    PaulTysonPicks.push('Schofield');
                }

                // Append the resulting picks to the HTML content
                if (PaulTysonPicks.length > 0) {
                    userPicksHtml += `<p><strong>Paul vs Tyson Picks:</strong> ${PaulTysonPicks.join(', ')}</p>`;
                }
            }

                        // Handle Misfits15 picks
                        if (misfits15_fetch !== "misfits15 not found") {
                const MisfitsPicks = [];
                const MF15 = misfits15_fetch;
                MisfitsPicks.push(MF15[0] === 'L' ? 'Bell' : 'Hamm');
                MisfitsPicks.push(MF15[1] === 'L' ? 'Lil Cracra' : 'YuddyGang');
                MisfitsPicks.push(MF15[2] === 'L' ? 'Park' : 'Vargas');
                MisfitsPicks.push(MF15[3] === 'L' ? 'Bee' : 'Celinat');
                MisfitsPicks.push(MF15[4] === 'L' ? 'Magen' : 'Fangs');
                userPicksHtml += `<p><strong>Misfits15 Picks:</strong> ${MisfitsPicks.join(', ')}</p>`;
            }
            

            // Calculate total picks if any
            if (paultyson_fetch !== "paultyson not found" || misfits15_fetch !== "misfits15 not found" || ufc302_fetch !== "ufc302 not found" || davismartin_fetch !== "davismartin not found") {
                let total = 0;
            if (paultyson_fetch !== "paultyson not found") {
                total = total + (paultyson_fetch ? paultyson_fetch.replace(/D/g, '').length : 0);}
            if (davismartin_fetch !== "davismartin not found") {
                total = total + (davismartin_fetch ? davismartin_fetch.replace(/D/g, '').length : 0);}
            if (misfits15_fetch !== "misfits15 not found") {
                total = total + (misfits15_fetch ? misfits15_fetch.replace(/D/g, '').length : 0);}
            if (ufc302_fetch !== "ufc302 not found") {
                total = total + (ufc302_fetch ? ufc302_fetch.replace(/D/g, '').length : 0);}
            if (pfc37_fetch !== "pfc37 not found") {
                total = total + (pfc37_fetch ? pfc37_fetch.replace(/D/g, '').length : 0);}
            if (cannonierimavov_fetch !== "cannonierimavov not found") {
                total = total + (cannonierimavov_fetch ? cannonierimavov_fetch.replace(/D/g, '').length : 0);}
            if (lfa186_fetch !== "lfa186 not found") {
                total = total + (lfa186_fetch ? lfa186_fetch.replace(/D/g, '').length : 0);}
            if (pereztaira_fetch !== "pereztaira not found") {
                total = total + (pereztaira_fetch ? pereztaira_fetch.replace(/D/g, '').length : 0);}
                userInfoHtml += `<p><strong>Total Picks:</strong> ${total}</p>`;
            } else {
                userInfoHtml += `<p><strong>Total Picks:</strong> No picks yet</p>`;
            }

            // Update the DOM with user info
            document.getElementById('userInfo').innerHTML = userInfoHtml;
            document.getElementById('userPicks').innerHTML = userPicksHtml;
        })
        .catch(error => console.error('Error:', error));
}



document.addEventListener('DOMContentLoaded', function() {
                var username = localStorage.getItem('username');
                if (username) {
                    console.log('Username:', username);
					// Hide the REGISTER and SIGN IN navigation items
					document.getElementById('navRegister').style.display = 'none';
        document.getElementById('navSignIn').style.display = 'none';

        // Create a new nav item for the user, using the username as the link text
        var navItem = document.createElement('li');
        navItem.className = 'nav-item mx-0 mx-lg-1';
        navItem.innerHTML = `<a class="nav-link py-3 px-0 px-lg-3 rounded" href="http://punchpredictor.com/user.html">${username}</a>`;
        document.querySelector('#navbarResponsive .navbar-nav').appendChild(navItem);
					get1();
                    // You can now use the username variable here to modify the DOM or perform other actions
                } else {
                    
					document.getElementById('userInfo').innerHTML = '<p class="text-danger">Please log in to view account information.</p>';
                }
                var signOutButton = document.getElementById('navSignOut');

// Check if username exists in localStorage
if (localStorage.getItem('username')) {
    // Show sign out button if username exists
    signOutButton.style.display = 'block';
} else {
    // Hide sign out button if no username exists
    signOutButton.style.display = 'none';
}

// Add event listener for sign out action
signOutButton.addEventListener('click', function() {
    localStorage.removeItem('username'); // This will delete the username from localStorage

    // Optional: Provide feedback or redirect the user
    alert('You have been signed out.');
    window.location.href = 'http://punchpredictor.com/login.html'; // Redirects to the login page
});
            });

    </script>
    <!-- Bootstrap JS Bundle with Popper (Bootstrap 5) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>